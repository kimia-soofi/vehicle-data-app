<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ schema.title }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
  <div class="container">
    <h2 class="title">{{ schema.title }}</h2>
    <form method="POST" action="{{ url_for('submit_form') }}" class="form-grid">
      {% for row in schema.rows %}
        <div class="row">
          {% for cell in row %}
            <label class="cell">
              <span class="label">{{ cell.label }}</span>
              {% if cell.type == 'select' and cell.source == 'car_types' %}
                <select name="{{ cell.name }}" required>
                  {% for m in car_types %}
                    <option value="{{ m }}">{{ m }}</option>
                  {% endfor %}
                </select>
              {% elif cell.type == 'date' %}
                <input type="date" name="{{ cell.name }}" {% if cell.required %}required{% endif %} />
              {% elif cell.type == 'number' %}
                <input type="number" name="{{ cell.name }}" {% if cell.required %}required{% endif %} />
              {% else %}
                <input type="{{ cell.type or 'text' }}" name="{{ cell.name }}" {% if cell.required %}required{% endif %} />
              {% endif %}
            </label>
          {% endfor %}
        </div>
      {% endfor %}
      <div class="actions">
        <button type="submit" class="btn">{{ schema.submit.label }}</button>
      </div>
    </form>
  </div>
</body>
</html>
